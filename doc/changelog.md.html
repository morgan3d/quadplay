<meta charset="utf-8"><style class="fallback">@media screen{body{background:#3a3a3a;color:#ccc}}</style>

                            **quadplay✜**
                           **Change  Log**

Changes for both the specification and implementation in each release
of [<quadplay/>](manual.md.html).


2023 March TBD: Update 92
===================================


2023 March 23: Update 91
===================================
- New platformer physics example
- Added `scripts/platformer.pyxl` mini-library
- Added `sprite.mean_color`
- Added `override_color` and `override_blend` arguments to `draw_map()`
- Added `ray_intersect_map()` per-pixel callback and ray shortening
- Added `sprite_transfer_orientation()`
- Exposed `map.offset` in the runtime API
- No longer force full-screen on the multiplayer network guest window
  when opening from the IDE "Copy URL" button while debugging
- Fixed new map centering having negated coordinates
- Fixed `ray_intersect_map()` using incorrect pixel coords for transformed maps
- Fixed object args version of `particles_spawn_from_entity()` in `particles.pyxl`


2023 February 9: Update 90
===================================

- New example of maze generation
- New example of water and sailboat simulation in "islands"
- Moved asset index from the manual into a separate document to speed loading
- Updated to peer.js version 1.4.7
- Update ace.js to version 1.15.0
- Fixed the `callback` for `add_frame_hook()` receiving a frames left value
  that was off by one.
- Fixed Windows filesystem race condition affecting rename mode


2022 November 27: Update 89
===================================

- Optimized startup time by only loading IDE when required
- Reduced export size by excluding IDE
- Refactored `particle.pyxl` to support multiple particle systems
- Added `MEAN`, `MEAN3`, `MEAN4` intrinsics
- Fixed link target bug for fonts in the manual
- Fixed the System/controls menu in kiosk mode not appearing
- Fixed button prompt alignment for `wright-8` font
- Fixed text alignment in launcher
- Fixed bad default `x_align` for illegal values in `draw_font()`


2022 October 23: Update 88
===================================

- New built-in game: "Black Firmament"
- Further improvements to prevent cursor jump when directly editing the
  `game.json` file
- New vector intrinsic, `XYZ_MAD_S_XYZ(srcxyz1, s2, srcxyz3, dstxyz)`
- Reduced the cost of `ray_intersect_map()` by 20%
- 2% performance boost for platforms without physical controllers
- 5% performance boost from changing the underlying API calls for frame rate management
- Added `unparse_hex_color()` for unparsing color constants
- Fix: workaround for cross-origin limitations when loading quadplay from a CDN


2022 August 28: Update 87
===================================

- New built-in game: "But...Skunks?!"
- The "Print touch" debugger option now prints the screen color under the cursor as well
- The color editor now shows the RGB hex value as well as the RGB or HSV percentages
- Events now print with correct names in call stacks
- Call stacks are now hyperlinked to source files and lines (except on Safari)
- Fixed `debug_print(∅)`
- Fixed touch events when afterglow is enabled


2022 August 20: Update 86
===================================

- New fonts `novarese-10`, `novarese-bold-10`, and `deja-mono-8`
- Added optional `char_min_width` property to font.json files for creating monospace fonts
- Added optional Font Weight and Vertical Scale to fontgen tool for bold and thin variations
- Fixed open heart character in `deja-8` font
- Fixed cursor jumping/reloading during manual editing of JSON files
- Fixed IDE GUI controls not updating after manual editing of .game.json
- Fixed clipping region cutting off system controls menu
- Fixed string literals appearing with incorrect quotes in the debugger
- Fixed clipped circles drawing a horizontal line on the top or bottom


2022 July 21: Update 85
===================================

- Steam Deck support
- Removed deprecated entity label properties (use entity text properties)
- Large objects and arrays in `debug_print()` and `debug_watch()` output may now
  be explored hierarchically
- Compile time and runtime error messages in the Output debug window 
  are now hyperlinked to the file and line
- `debug_print()` can now pretty-print consisely in the same format as `debug_watch()`
- Moved Output debug window links to source code for `debug_print()` to be explicit
  on the edge of the window instead of implicit
- `debug_print()` will now pretty print expressions with names that resemble percentages
  as percentages with fixed precision
- Assets now `debug_print()` with a link back to editing the asset
- Updated to latest Markdeep (1.15 in development)
- Fix: acceleration in Spritestack example now follows new gamepad API


2022 June 29: Update 84
===================================

- `debug_watch()` pretty-prints `xy()`, `xyz()`, and `xz()` with low precision and as functons
- `debug_watch()` pretty-prints `rgb()`, `rgba()`, `hsv()`, and `hsva()` as percentages with the color visualized
- `debug_watch()` pretty-prints expressions with names that resemble angles in degrees with low precision
- `debug_watch()` values now persist for multiple frames
- New `"fraction"` format option for `format_number()`
- `remove_values()` now returns `true` if any value was removed
- Improved the layout of the font selection in the manual
- New demo, Text Spheres title screen animation
- Upgraded to ace.js 1.6.0
- Upgraded to Markdeep 1.14
- Reduced recommended max source statements from 8192 to 2048 to reflect
  recent exemptions that made counting more conservative
- Changed arguments named `random` to `rng` to avoid confusion with the `random()` function
- Fix: `insert()` now illegal on containers being used for iteration
- Fix: Compiler now parses degree numbers with decimal places


2022 May 23: Update 83
===================================

- `gamepad.a` and all other button current values are now the number
  of frames for which the button has been held down to simplify
  implementing long-press input schemes (previously was 1 if held and
  0 if not held)
- `gamepad.released_a` and all other buttons releases are now the
  number of frames for which the button was held down before release
  to simplify implementing long-press input schemes (previously was 1
  if released and 0 if not released that frame)
- The `child_table` argument to `make_entity()` now allows overriding
  existing properties of the entity.
- Added Nearest and premultiplied-alpha Average 50% scaling to the
  scalepix tool
- Kiosk and IDE can now update without leaving fullscreen
- Can now reload the page without leaving emulator mode
- Better error message for illegal multiline strings in source code
- Fixed `random_within_region()` for simple rectangles
  with no `pos` or `shape` property.
- Fixed bots not being able to press buttons
- Fixed `kenney-1bit` sprite incorrect gutter
- Fixed pivots for rotated and flipped sprites from spritesheet


2022 March 19: Update 82
===================================

- New game: Gravity
- New music loop by Abstraction: `loop-someday_gone.sound.json`
- New sound `shoot-13.sound.json`
- quantize tool now offers 1-bit and 4-bit alpha, and separate
  control over RGB and alpha dithering
- Added `make_bot_gamepad()` and `update_bot_gamepad()` for optionally
  controlling AI players via virtual gamepads instead of direct logic
- Added `scripts/3D.pyxl` generic 3D transform scripts
- Added `XY_DISTANCE()`, `XZ_DISTANCE()`, and `XYZ_DISTANCE()` intrinsics
- `draw_poly()` now performs 3D projection properly when used with
  a camera perspective zoom function
- Changed internal browser session root data path from `~/my_quadplay`
  to `~/quadplay_session` when running as a native app to prevent spew
- Aligned `roman-8` font button prompts vertically
- *Incompatible changes* to `set_post_effects()` arguments:
  - Renamed `blend_mode` ==> `color_blend`
  - Renamed `opacity` ==> `1 - motion_blur`
  - Replaced `background` with a combination of `burn_in` for phosphor glow
    and border clamping of the frame for filling exposed background
    regions
- Improved particle system performance 10%
- Improved error checking for `remove_key()`
- `entity_simulate()` now supports wrapping and clamping finite
  rectangular universes
- `iterate_pairs()` for easy combinatorial iteration with proper
  handling of element removal
- `make_entity()` now converts a number `scale_in_parent` value into an `xy()` value
- Made frame rate scaler more aggressive when just missing 60 Hz and added
  a limit to stop thrashing per session between 60 Hz and 30 Hz. This helps
  with game feel on Raspberry Pi
- Fixed `NaN` moment of inertia for disks
- Fixed `iterate()` returning `true` when no items were removed
- Fixed Debug Override checkbox placement for string constants
  in IDE
- Fixed parsing of CSV files with strings that begin with digits
- Fixed CSV files generating an empty final table row
  


2022 February 13: Update 81
===================================

- New game: "Morgan's Mini Mecha"
- Autoupdater on Windows, Linux, and macOS for IDE. Supports both
  release installations and git clones
- `split(string, separator, max_splits)` now accepts an optional number of splits to make
- Improved handling of `infinity` for `format_number()`
- Added Walnut wrap
- Allowed auto-sleep to save power after 2 min in IDE as well as kiosk mode
- Upgraded to ace.js 2022-01-26 build
- Fixed syntax highlighting in IDE on Safari


2022 January 30: Update 80
===================================

- New Windows installer for quadplay
- New `cruise-14` font
- Server now prints the installed quadplay version on launch
- Unless `--noupdatecheck` or `--kiosk` is specified, quadplay now checks
  for available updates on launch
- Spritesheets can now have animations specified by a 2D grid instead of being
  restricted to a row or column, and can ignore padding frames from the end
- Open game dialog now allows launching a second window
- `split(string, n)` that accepts a number of characters at which to split the string
- `resized()` for simultaneous padding and trimming of strings
- Added `"♢"` `"♡"` `"☆"` glyphs to font sheets
- Added auto-generaton of `○◻△♢♡☆` glyphs in fonts
- Made the Linux/macOS script work from double click
- Uninitialized variable declarations no longer count against the code statement size
- Tweaked `deja-9` font symbols
- `load_local()` with no arguments now returns an object specifying all key-value
  pairs saved
- `save_local()` with no arguments now deletes all stored keys
- `save_local(object)` now overwrites all stored keys
- Modified `find_move()` to always choose a guaranteed single-move win if one is available
- Modified `find_move()` to still try to win even from a losing position against an optimal player
- Increased IDE `debug_print()` history display from 300 to 800 calls
- Workaround for Windows Chromium bug where extra, unflagged, key repeat events are received
  on key release when multiple keys are held down. This fixes `joy.xx` and other values getting
  extra nonzero values in these situations when using a keyboard 
- Fixed "illegal symbol" error on variables beginning with underscores
- Fixed `&lt;` character in the cruise-7 font
- Fixed system/pause menu when a camera transformation is active
- Fixed `make_move_finder()` `progress` metadata
- Fixed quaddepend and export scripts to handle raw text file constants


2022 January 21: Update 79
===================================

- New `find_move()` and `make_move_finder()` functions for discrete move AI players
- New `loop-alarm` sound
- New `loop-helicopter` sound
- New `loop-smooth_drops`, `loop-get_off_my_planet`, and `loop-all_you_can_yeet` music tracks by Abstraction
- Added `SUM()` and `PROD()` intrinsics for operating on arrays
- Added `make_array()` helper function for creating multidimensional arrays
- Added `random_within_region()`
- Added an optional `begin_callback` to `sequence()` entries
- Added Adobe Photoshop 2022 IDE support
- `draw_line()` now applies separate 3D perspective at each endpoint for full
  wireframe rendering
- Added bold syntax highlighting for mode and section dividers
- Added bold syntax highlighting for function declarations
- Updated error message reporting syntax for Safari 15
- Renamed `find_map_path()` -> `map_find_path()` [kept deprecated old version for
  backwards compatibility]
- `NaN` z values in graphics commands are now an error to help with debugging
- Factored internal runtime into separate AI, physics, CPU, and GPU files
- Auto-math now replaces `...` with `…` more aggressively
- Forced Debug Override button to stay visible when checked in compact, all-constants view
- Changed statement counter to not count `else:` without `else if` as a separate statement
- Fixed rendering of diagonal lines with alpha
- Fixed incorrect syntax coloring of "sgn" as if it was a function
- Fixed `random_gaussian3D` and `random_on_cube` missing from syntax highlighting
- Fixed emulator screen showing desktop instead of black when stopped on MacOS and Linux
  (workaround for Chromium bug)
- Fixed `overlaps()` for corner rects
- Fixed debug override of constants with `0` failing
- Fixed url-based string constants being directly editable in the IDE



2021 December 24: Update 78
===================================

- Changed the hooks created by `add_frame_hook()`, `delay()`, and `sequence()` to not
  decrement their frame counter if the mode changes inside of the hook.
- Added block elision using `&` to avoid high nesting on trivial blocks
- Added `XY_LERP()`, `XZ_LERP()` and `XYZ_LERP()` intrinsics
- Added `XY_MAGNITUDE()`, `XZ_MAGNITUDE()` and `XYZ_MAGNITUDE()`
  intrinsics for convenience
- Extended `find()` to take an optional comparator
- Increased IDE code space by one column by trimming pixels from the gutter
- Deprecated `preserving_transform` modifier on functions (use elision now)
- Upgraded to the ace.js 30 Sep 2021 build
- Changed `equivalent()` to return true if both values are NaN
- Special filenames `debug.pyxl`, `test.pyxl`, `Debug.pyxl`, and `Test.pyxl`;
  section/mode headers; and `debug_watch()` and `debug_print()` no longer count
  against code size limits
- Fixed `draw_text()` with a camera zoom transformation projecting incorrectly
- Fixed `nil` values from linear splines created with `make_spline()`
- Fixed `entity.size` initialized based on `scale` in `make_entity()`
- Fixed vertical alignment of button prompts in the `cruise-7` font


2021 December 15: Update 77
===================================

- Improved display of multiline strings in the constant editor
- Improved arrow rendering for deja fonts
- Improved square and circle symbols in scoreboard-5 font
- Added new constant type of `string` from a text file url
- Added new asset type of `data` from a text file url
- Added overloaded versions of `local_time()` that can convert
  from other time zones and parse dates as strings
- Added `countdown` example using `local_time()`
- Added documentation to quantize+ tool for saving images 
  (including a workaround for Firefox drag-drop limitations on Windows)
- The IDE todo list now separates by function and hyperlinks 
  function and file names
- `iterate()` now returns `true` if any element was removed
- Better error message when passing a `nil` container to `iterate()`
- `set_transform()` now produces errors on NaN input
- Fixed launching `quadplay-server` with a relative
  path to a game on the command line on Windows
- Fixed `equivalent()` on `nil` values
- Fixed Import Asset, Create New Mode, and Create New Script on
  Windows with multiple drive letters
- Fixed parse error on single escaped slash string `"\\"`
- Fixed touch coordinates off by one pixel from hardware cursor


2021 November 28: Update 76
===================================

- Changed `physics_remove_entity()` to permit "removal" of entities
  that are not in the context (silently ignored)
- Made it safe to call `physics_remove_entity()` while in 
  `physics_simulate()`
- `physics_attach()` now defaults unspecified attachment points to the same
  location from the other object
- Added physics arrow demo of dynamic attachments
- Upgraded to matter.js 0.17.1
- Increased physics velocity and position iterations slightly to
  reduce missed collisions for very fast objects
- Added `attack-01.sound.json` bow sound
- Fixed welding to objects with infinite mass or density
- Fixed removing an entity from physics where there had been
  a recent resting contact with that object
- Fixed `parse()` for hex and binary constants
- Fixed IDE display of hex and binary constants
- Fixed blurry search dialog when in IDE Ghost Edit mode 

2021 November 4: Update 75
===================================

- The string callback version of `iterate()` now ignores elements
  that do not have a property by that name
- `push(array, value)` is now permitted from within iteration 
  using `iterate()` or `for value in array` without cloning.
  Combined with `iterate.REMOVE`, this allows amortized constant
  time addition and removal of values from an array while iterating
  over it.
- Improved physics system API documentation
- `"gyro"` physics attachment now defaults to the current angle instead of 0deg
- Added new `"torsion_spring"` joint attachment for rotational springs
- Added button prompt support for [Colemak](https://colemak.com/) keyboards which use
  OS layout instead of remapping
- Added `Ⓡ` character to font sheet
- Fixed `overlaps()` for bounding boxes with a `corner` instead of `pos` property
- Fixed syntax highlighting of `XZ_DIRECTION()` intrinsic 
- Fixed syntax highlighting of `cbrt()`,
  `xyz_to_rgb()`, `find_max_value()`, `find_min_value()`, `max_value()`, `min_value()`,
  `array_value()`, `random_truncated_gaussian3D()`, 
  `transform_ws_to_es()`, `transform_es_to_ws()`, `transform_ws_to_ws()`,
  `transform_cs_z_to_ss_z()`, `transform_ss_z_to_cs_z()`, 
  `transform_ss_to_ws()`, `transform_ws_to_ss()`,
  `transform_to_parent()`, `transform_to_child()`, and
  `compose_transform()` functions
- Fixed IDE error on editing a numeric constant with an
  unparseable quantum specification
- Fixed documentation on `XY_MAD_XY_XY()` and `XY_MAD_S_XY()`
  intrinsics to match their current names
- Fixed a memory leak in `physics_detach()` for `"gyro"` attachments


2021 October 24: Update 74
===================================

- Made `random` not syntax highlighted unless used as a function
- Fixed create new map in IDE to use correct sprite URLs when not 
  cloning the sprite PNG
- Extended workjson.py with Python-compatible `dump()` as well as `dumps()`
- Changed font sheet layout. Use `tools/font-update.py` to upgrade 
  previous font sheets and then tweak the result manually. All
  built-in fonts have been upgraded and tweaked.
- The `tools/fontpack.html` tool now generates missing characters 
  in font sheets, as does the runtime loader. This simplifies manual
  creation of new fonts and increases compression on disk/reduces
  game download time.
- Added button prompt support for French AZERTY keyboards,
  including new Q, Z, m, !, ù, è, à prompt characters in font sheets
- Added font characters
  `ĄąČčĆćĎďĚěĘęŁłŃńŇňŘřŚśŠšŤťŮůÝýЎўŽžŹźŻżҐґтЄєı` to support more
  languages.
- Added more subscripts to font rendering. The
  full set is now <code>₀₁₂₃₄₅₆₇₈₉₊₋₍₎ₐᵦₑₕᵢⱼₖₘₙₒᵣₛₜᵤₓ</code>.
  Note that d, y, and z subscripts are absent because
  they are missing from Unicode itself.
- Added ◌̀◌́◌̂◌̌◌̃◌̈◌̊ to font sheet for auto-generation
  of accented characters
- Fixed `font.glyph_size.x` NaN value
- Fixed `blackletter-14.font.json` font PNG size


2021 September 4: Update 73
===================================
- 19 new CC-BY 4 chiptune songs by [Abstraction](https://abstractionmusic.bandcamp.com/)
- IDE autopause on blur and reload-on-focus no longer take effect if
  the game is hosting or guesting, in order to service to event queue
  when testing network multiplayer on a single machine
- The `quadplay-server.py` script will clean up previous instances
  if any processes were left in memory from an abrupt shutdown
- Suppressed server log messages on Safari touch icon requests
- Added `tools/highlight.js/pyxlscript.js` plugin for highlight.js


2021 August 18: Update 72
===================================

- New HexFlipper built-in game
- New tools/project_linter.py for testing games before export. Detects unused assets/constants, missing licenses, and more.
- Added a friendly error message for using `%` instead of `mod`
- Tools menu now offers Show Private Views for debugging online multiplayer
- Can now join online play from a direct URL link as well as a host code
- Added `MY_QUADPLAY` environment variable support for `quadplay` and `quadplay-server.py` scripts
- Copying and pasting online multiplayer host codes and host URLs now supported in all browsers
- System controller configuration dialogs now work in online multiplayer with private views
- Added `device_control()` access for enabling higher resolution multiplayer 
  private views on devices that support them
- Extended workjson.py with Python-json compatible `load()` as well as `loads()`
- External IDE plugins are now generated internally from a common keyword and API list
- Fixed crash on launcher's System tab
- Fixed rendering of active tabs in the launcher


2021 August 7: Update 71
===================================

- Added `gamepad.status` read-only property for detecting 
  inactive gamepads or connected online players
- `quadplay.vbs` script on Windows now supports all `quadplay`
  command-line arguments
- New pink Kenney alien sprite
- New private view online multiplayer API via `set_screen_size()` and `view_array`
- Added explicit popup error messages on missing, relative, or
  space-containing `my_quadplay` directories
- Added `disconnect_guest()` for graceful disconnection from within game code
- Added `start_hosting()` and `HOST_CODE` to initiate hosting directly from games (instead of the system menu)
- Added `stop_hosting()`
- Added args version of `draw_map_span()`
- Added support for corner rects in `overlaps()`
- *Incompatible change*: `set_clip()`, `get_clip()`, and
  `intersect_clip()` argument renamed from `pos` --> `corner` to be
  consistent with the rest of the API
- `debug_watch()` now shows intermediate results of a frame when a program
  error occurs
- Added debugger option for printing touch screen coordinates
- Keyboard pressed/released state now resets after program restart and
  system menus
- Fixed bloom not working in online multiplayer
- Fixed Warlock3D player getting stuck on walls
- Fixed `gamepad.type` and `gamepad.prompt` not resetting after a
  guest disconnects
- Fixed `overlaps()` incorrectly returning `false` too often due to
  an overly aggressive bounding box test
- Fixed `gamepad.prompt` being `nil` for guest controllers after they
  connect
- Fixed mouse triggering `touch.aa` during mouse movement while held
- Fixed missing cursor and incorrect clipping region for system Online
  Menu in game
- Fixed back-to-back rectangle draw calls with different clipping regions
  failing
- Fixed `gamepad_array` being syntax highlighted as a function instead of a constant
- Fixed `size` and `loop` being syntax highlighted as functions when used as properties or variables


2021 July 22: Update 70
===================================

- New "Change Resolution" example program
- New "Cards" example program
- New poker and solitare card sprites
- Patched the `quadplay` command line script to avoid errors on Linux
- Added Duality to the online index
- Added extended online play to support half-resolution, 192x112 games
- Added `find_max_value()` and `find_min_value()`
- Added `set_screen_size()` for changing resolution at runtime
- Renamed `max_component()` --> `max_value()`
- Renamed `min_component()` --> `min_value()`
- Added `--my_quadplay` argument to the server scripts
- Fixed raw files appearing in the Import Asset dialog when they are also
  used in a JSON file containing single-quoted strings
- Upgraded to peer.js 1.3.2


2021 June 6: Update 69
===================================

- New game, "Duality"
- Increased new game loading speed 2x within IDE by
  not reloading the IDE itself and rewriting browser history
- Added `sound.duration`
- Added userdata args to `iterate()`
- Added sound effect to starter example
- Added `ching-9` font
- Added `"all"` modes option to `add_frame_hook()`
- Added `quadplay --play` for launching without the IDE by default
- Added menu options to show and hide IDE when in non-kiosk play mode
- Added an explicit button to exit full screen UI mode
- Added `XY_MAD_XY_XY()` and `XY_MAD_S_XY()` intrinsics
- Particle system now has a global time rate parameter
- Exposed new constant number display format and rounding quantum in the IDE
- Increased `overlaps()` performance for distant objects
- Calibrated bloom to match between Mac and PC
- Performance scaler can now disable bloom if not making
  frame rate
- Added syntax highlighting in IDE for `smoothstep()` and `smootherstep()`
- Hid internals of audio clip implementation from game code
- Fixed runtime error "s is not defined" when using `set_mode() ... because` without indentation 
- Fixed debug watch table not clearing on game restart
- Fixed new constant dialog making max number bounds syntax too verbose in `.game.json` files
- Fixed missing Cyrillic lower-case "т" from fonts
- Fixed the spread operator for objects in all cases
- Fixed Import Existing Mode not closing dialog
- Fixed using sprites as colors not working for transparent black
- Fixed Create New Asset -> Map producing URLs within the TMX file
- Fixed string concatenation and coercion not unparsing
  objects correctly
- Fixed `quadplay --help` script on Linux and macOS printing asynchronously 
  after the prompt appears
  

2021 April 7: Update 68
===================================

- New game, [Rescue Roguelike](../console/quadplay.html?game=quad://games/rescue_roguelike)
- Added `touch.hover`
- Fixed native app version of quadplay failing if MSEdge browser
  was already running
- Added error message at the command line when the quadplay internal 
  network port is already in use
- Made the "Quit quadplay" menu option more robust on different platforms
- Added support for the Brave browser on MacOS and Windows
- Changed the button to play from (p) to (a) for the launcher
  to prevent confusion about the ESC key
- Touch and mouse support for the system pause menu
- Pause menu now saves and restores mouse lock and cursor
- Added `cursor` and `lock` properties to `device_control("get_mouse_state")`
- Improved parser error line reporting
- Fixed documentation to consistently refer to `nan` in all lower-case
- Fixed new game not having the correct screenshot tag
- Fixed `reversed(string)`
- *Incompatible Changes*:
  - `draw_text()` now returns the full rectangular bounds instead of just
    the dimensions of the drawn text


2021 March 10: Update 67
===================================

- *Incompatible changes*:
  - Running `quadplay` at the command line, or on Windows
    double-clicking `quadplay.vbs` will now run quadplay in the style
    of a native app. It requires Python and Edge or Chrome/Chromium to
    be installed.
  - The previous behavior of `quadplay --browser` is now provided by
    running `tools/quadplay-server`.
  - `unparse()` now supports five levels of pretty printing instead of the
    single `terse` value
- Create map dialog now supports cloning the spritesheet used for tiles
- `rgb()` and `rgba()` now accept hex strings
- New Tic Tac Toe example demonstrating gamepad, mouse/hover, and touch
  input for a grid
- Improved documentation of local functions
- F6 PNG screenshot and F8 GIF recording labels on the menu bar are now
  active as buttons
- Made `unparse(x, 0)` remove spaces from arrays for better
  compression
- Added spaces after `:` in `unparse(x, level)` for level greater than zero
  for better readability
- Fixed `device_control("get_mouse_state")` for translated coordinates
- Fixed constants without a range clamping to -Infinity in the IDE
- Fixed sprite info not visible on left edge
- Fixed "execute earlier/later" on scripts menu item making script URLs local
- Fixed error about "$url is not defined" when editing a map's spritesheet JSON directly
- Fixed touch and mouse input not resetting for the new frame immediately after a
  `set_mode()`, `push_mode()`, or `pop_mode()`
- Fixed `start_mode` override enable for debug layer
- Fixed mode diagram cutting off the bottom-most arc sometimes
- Fixed loading a new game closing the IDE in nativeapp mode



2021 February 25: Update 66
===================================

- New Spritestack 2.5D car demo in the style of Grand Theft Auto
- Made the "pixel shader" style Clouds example 
  15% faster using sprites as colors
- The Debug UI mode with the large game screen now always shows the
  project list on large displays. It still auto-hides the list to 
  conserve space on smaller displays. 
- Added a quit menu item to the Tools menu when not in kiosk mode (not supported on Firefox)
- The IDE now looks like a native app instead of
  a browser app when run on a platform with Chrome or Edge installed.
  Use `--browser` on the quadplay command line script to force loading
  in a regular browser tab
- On Windows, the `quadplay.cmd` script can now be run directly by
  double clicking, and will close the server automatically
- `make_entity()` now creates default `vel` and `force` as
  `xyz()` if `entity.pos` is an `xyz()`
- Removed vestigial `acc` (acceleration) and `twist` (angular acceleration)
  properties on entity, since they are subsumed by `force` and `torque`
- All drawing routines can now accept sprites as colors to enable
  image palettes
- Added a title screen to the Warlock 3D example
- Added map-based spawning to the Warlock 3D example
- Changed the Warlock 3D example to use the map 2.5D coordinate system
- Web server now includes the script line number on security warnings
  to distinguish the source of identical warnings
- Kiosk mode on macOS with Chrome or Edge installed now looks like
  a native app and is harder for players to escape
- Fixed web server printing exception trace on security warnings
- Fixed physics `allowSleeping` --> `allow_sleeping`
- Fixed `draw_map()` 3D perspective
- Fixed not being able to save .debug.json files on Windows when quadplay
  is installed on a different drive than the home directory


2021 February 15: Update 65
===================================

- New easy map asset creation in the IDE
- New Zoom 2D and Zoom 3D camera examples
- The Create Asset dialog now provides license templates
- *Incompatible change*: `wrap_x` and `wrap_y` for maps are now
  `loop_x` and `loop_y` for API consistency
- `format_number()` can now accept a degrees or percent suffix
- Code polish on the Animation and Z-Car examples
- Improved the constant editor GUI layout
- Removed zero time categories from the on-screen performance HUD
- Made `noise()` about 40% faster
- All draw calls now allow a separate `pos.z` or equivalent value
  for transform skew and camera zoom that is separate from
  the `z` value used for occlusion order. By default `pos.z = z`
  and `z = pos.z` if only one is specified, so the new behavior is backwards
  compatible.
- `entity_simulate()` now supports 3D velocity and force
- `map_resize()` now has more default parameters
- Clarified the difference between `a`, `aa`, and `a_released` for all buttons
  in the manual
- `set_camera()`...`get_camera()` will now preserve the type of `camera.pos` as `xy()` or `xyz()`
- Documented the Z-Axis under Coordinate Systems
- Fixed missing syntax highlighting for map helper functions
- Fixed `map_resize()` for an increasing number of layers
- Fixed Animation example referencing incorrect font
- Fixed `draw_sprite()` for scale between 0.99999999999999 and 1.00000000000001
- Fixed game-specific sprite properties not appearing on `rotated_90` and
  `rotated_270` versions
- Fixed games without a developer or title crashing the IDE on load
- Fixed `draw_text()` with `y_align: "bottom"` culling text incorrectly
- Fixed `format_number()` adding negative signs after space padding
- Fixed `make_entity` default size initialization
- Fixed asset import dialog empty when corrupt json files are in the game folder


2021 February 6: Update 64
===================================

- *Incompatible change*: Changed `entity.sprite_override_color` --> `entity.override_color`
  and `entity.sprite_override_blend` --> `entity.override_blend` properties to match the
  `draw_sprite()` arguments better.
- Clicking on "Constants" in the IDE now shows a pane of all constants at once
  for easy editing
- Added optional sliders, rounding, and formatting for numeric constants in the IDE
- Made the ESC key act as in-game pause when not in the IDE (hold to leave fullscreen)
- The mobile controls icon now includes a fullscreen indicator when not
  in the IDE
- Constant documentation in the IDE now uses comment syntax highlighting
- Made boolean constants in the IDE better match the formatting of other constants
- Made mobile device detection more conservative
- Made the screen layout buttons easier to touch on mobile
- Documented JSON metadata for `number` constants
- Fixed reference constants using the object icon in the project view
- Fixed constant editor layout of colors with very long variable names
- Fixed `round(x, 0)` to produce no rounding rather than rounding to an integer
- Fixed ⓟ and ⓠ buttons overlapping in portrait mode on thin phones
- Fixed crash on blizzard levels in Serpitron game due to API change
- Fixed blurry map preview
- Fixed the constant editor not scrolling
- Fixed incorrect rotated and scaled sprites in map preview


2021 January 31: Update 63
===================================

- Optimized loading time of itch.io exported games
- Added shapes examples to the starter example code/initial project
- Added optional low overhead on-screen profiling HUD
- Removed launcher and template files from exported games to reduce file count
- Games in Maximal mode outside of the IDE automatically switch to Emulator mode
  now on mobile to present touch controls
- New loading message/animation when games launch
- Running `quadplay` or launching the IDE with no arguments now loads the
  animation example instead of the quadplay game OS launcher
- `export.py` now takes the game path as a positional argument (no `-g` any more)
- Updated itch.io upload instructions
- Fixed IDE interface flashing when kiosk or exported games
- Fixed `table` constants now are marked as dependencies when exporting
- Fixed tooltips on toggle menu items only showing above the checkbox
- Fixed being able to start games before loading completes


2021 January 25: Update 62
===================================

- New "Piano" synth demo of using the audio `pitch` feature
- Audio pause/resume and timestamps are now more accurate
- Errors now print call stacks to the Output debug pane.
  (Safari cannot print line numbers or URLs in call stacks;
   all other browsers contain full data)
- Added `now` property to the return value of `get_audio_status()`
  to aid in synchronizing visuals with audio
- Added `sound` property to the return value of `get_audio_status()`
- Updated the itch.io exporter documentation to the latest itch.io
  user interface
- Reverted the itch.io exporter to using Maximal mode instead of kiosk mode
  so that players on mobile don't get stuck without controls
- Renamed the default branch for the github quadplay repository to
  `main`
- Added a popup warning on Safari that pitch changes are not supported
- Changed exported games to use Maximal layout, which exposes the control
  buttons on mobile
- Updated scalepix tool to the latest version of MMPX
- Fixed illegal `|=` and `&=` C++ operators to now produce clear error messages
  suggesting PyxlScript versions and are auto-corrected in the IDE
- Fixed Safari debugger pane layout
- Fixed controls dialog in exported games
- Fixed `set_pitch()` for non-octave pitch changes
- Fixed `stop_audio()` setting the state to `ENDED`
- Fixed `pow()` on two numbers actually computing `ceil()`
- Fixed `play_sound()` argument `rate` to `playback_rate` to match
  state queries
- Fixed fonts for standalone HTML tools
- Fixed: conditional (`if`) expressions inside of object declarations no longer
   require parentheses


2021 January 16: Update 61
===================================

- Made Windows 10 `quadplay` script robust to the Windows `python.exe` shim using `py.exe`
- Changed manual syntax highlight colors to match the IDE
- Increased usage of the quadplay font in the IDE
- Persisted autoload checkbox on Open Game dialog between sessions
- Added "Rename Mode" context menu
- Made the `quadplay` command line script not print terminal 404 errors for missing
  files that are optional, such as `.debug.json` files
- Protected internal state of audio clips
- Required parentheses for `todo()`
- Slightly reduced CPU usage for audio when paused
- Halved audio memory consumption and audio bandwidth for online play
  by reducing internal audio mixing to 22 kHz
- Optimized audio processing
- Fixed parsing of hexadecimal or binary constants separated by a single character
- Fixed `resume_audio()`
- Fixed `todo()` in todo-as-error mode
- Fixed in-IDE script renaming to remove the old version
- Fixed GIF recording on Firefox
- Fixed syntax highlighting in the manual for functions with digits in the name
- Fixed the use of global color constants in `draw_text()` markup


2021 January 9: Update 60
===================================

- New "A Dark Drive" horror game example
- New "Word Game" example inspired by Babba Is You
- Changed the profiler and debugger update every frame
  when in Slow or Single-Step debugging modes
- Improved the error message for missing separator comma in object literals
- Added support for fractional borders for `map_generate_maze()`
- Added `transform_ws_z_to_cs_z()`
- Added `transform_cs_z_to_ws_z()`
- Fixed `transform_cs_to_ws()` transposing the camera
- Fixed error on `draw_text()` with trailing newline
- Fixed bloom appearing over the full-screen Editor IDE mode
- Fixed colored rectangles overlaying Full Screen and Ghost IDE modes
  in certain circumstances


2021 January 1: Update 59
===================================

- New `kenney-1bit-14x14.sprite.json` spritesheet asset
- Added `bloom` to `set_post_effects()`
- Added browser name and frame overhead to the performance summary
- Improved resolution of the browser icon
- Improved profiler results for 3D rendering with `draw_map_span()`
- Improved frame rate scaling on low-end devices for 3D rendering
- Removed pause and step controls from the IDE while connected
  as an online guest
- Made locally-hosted IDE `crossOriginIsolated`, which should
  improve profiling and frame scaling on Firefox
- Reduced the performance overhead of the profiler itself
- Substantially improved performance on Raspberry Pi in Kiosk mode
  

2020 December 26: Update 58
===================================

- Incompatible change: removed implicit multiplication for back-to-back
  parentheses to make first-class functions easier to use: `(a)(b)` no longer
  performs multiplication.
- Enabled online play over https and in kiosk mode
- Added scroll repeat on the New Host dialog
- Added support for the spread operator `...` on objects as well as arrays
- Added `map_resize()`
- Added `map_generate_maze()`
- Added `game.json` `screenshot_tag` field and debug override
- Added `palette_swap` option to `sprite.json` files
- Added support for custom pivots on single named sprites
- Added "autoplay" option on the open game dialog to streamline looking at
  examples
- Moved the change log into its own file to reduce manual length slightly
- Extended the 5-argument `lerp()` documentation to make clear that
  it can rescale a range.
- Made `angle_to_xy()` snap to integer values when within one trillionth of them
- Fixed button prompts for guest online players
- Fixed `random_within_circle()` and `random_within_sphere()` incorrectly
  projecting the point onto the surface
- Fixed `debug_watch()` to update when single stepping
- Fixed loading a full-spritesheet sprite with a `pivot` and no `sprite_size` in the
  JSON file
- Fixed Folder path in the IDE not properly hyperlinking on Windows


2020 December 4: Update 57
===================================

- New "gridmove" sample of PAC-MAN style movement and maps
- Eliminated most lag in online multiplayer by working around
  various browser bugs
- Added `xy_to_angle()` and `angle_to_xy()`
- Added `rgb(array)`, `rgba(array)`, `hsv(array)`, and `hsva(array)`
- Improved error messages for `xy()` constructor
- Added clipping region support for Warlock3D `raycast.pyxl` routines
- 15% speedup for Warlock3D demo through clipping, reduced floor quality, and
  micro-optimizations
- Added `map.size_pixels`
- Added variable quality option for `draw_map_span()`
- Darkened and saturated the player 3 yellow and player 4 lime colors to better match
  the brightness P1 and P2
- Fixed `map.z_offset` being ignored by `get_map_sprite_by_ws_coord()`
- Fixed diagonal flipped sprites in TMX maps
- Fixed new doc create not working
- Fixed crash in physics example from `contact.point1` being `{}` instead of `nil`

2020 November 28: Update 56
===================================

- Enabled online play beta support. Latency is likely to be
  high for some games and computers in this initial release.
- `size(object)`, `random_value(object)`, `keys(object)`, and
  `for value at key in object` now correctly
  ignore internal properties of built-in quadplay objects and assets
- Added `ninja-green-32x32.sprite.json` and adjusted pink, blue, and yellow
  ninjas to match the quadplay controller colors
- Removed the `age` property from the physics collision callback documentation
  (it was never implemented)
- Implemented the `depth` property of collision callbacsk
- String coercion by concatenation of assets will now produce the asset name
- String coercion by concatenation of `nil`, `infinity`, and `-infinity` will
  now produce the corresponding symbol
- Improved opaque, thin-line rendering performance by 15%
- Fixed pressing P on the System tab of the launcher leading to a crash
- Fixed custom controller types being lost after page reload
- Fixed subsection numbering in the manual under Firefox

2020 November 22: Update 55
===================================

- Tuned Friendly Fishing to spawn only small fish at the start of the game
  to ease players in, and then guarantee larger fish later
- Added `credits` and `links` sections to the `game.json` files
- Added remote play infrastructure in the Online tab of the launcher
  and bundled PeerJS for connecting
- Changed the `quadplay` script `--host` argument to `--serve` to disambiguate
  from remote play hosting
- Added `quadplay --offline` to disable new online multiplayer features
- When running outside of the IDE (with or without kiosk mode), quadplay will
  now sleep after two minutes of no activity to conserve power
- Launcher now shows diagnostic system data
- Added Kiosk Mode to the IDE Console menu to avoid requiring URL editing
- Kiosk mode now allows access to the "my_quadplay" folder
- `quadplay --kiosk` at the command line now launches in fullscreen mode
  directly on macOS and Windows when using Edge or Chromium. On other platforms
  it requires a click to enter fullscreen.
- Disabled caching of quadplay internal OS code to ensure that platform upgrades
  do not require a hard reload from users
- Added PeerJS to the distribution
- Fixed `slice()` on strings to implement end index as specified
- Fixed `draw_text()` markup with both `{br}` (or double newline) and format
  specifiers dropping content after the line break
- Fixed Auto-Pause state not being stored between sessions
- Fixed CSV loading for constants (was broken by debug.json layer in the previous release)


2020 November 7: Update 54
===================================

- New _Friendly Fishing_ built-in game
- `add_frame_hook()`, `delay()`, `sequence()`, and `remove_frame_hook()` are
  now safe to execute from within another hook
- Controller order remapping now available from the in-game pause menu
- `.sound.json` files can now specify a base pitch, pan, rate, and volume
  adjustment
- Added `lightning` to `shapes-32x32.sprite.json`
- Added `local_time().absolute_milliseconds`
- Added `trim_spaces()`
- `unparse()` now takes an optional `terse` argument to eliminate spaces
  after separators
- `save_local()` now uses terse unparsing
- Changed `save_local()` limitation to 4096 characters for 64 keys
- Any player can now select the built-in game in the launcher
- Fixed stopwatch/oldstopwatch negative time formatting in `format_number()`

2020 October 31: Update 53
===================================

- Added `gamepad_array[i].color`
- Added `splash-01.sound.json`, `splash-02.sound.json`, `splash-03.sound.json`,
  `splash-04.sound.json`, `splash-05.sound.json`, `splash-06.sound.json`, 
  `splash-07.sound.json`, `splash-08.sound.json`, `splash-09.sound.json`
- Added `attack-00.sound.json`
- Added `loop-departure.sound.json`
- Added `loop-winch.sound.json` and `loop-spin.sound.json`
- Added `music-royal.sound.json` and `music-sonata.sound.json`
- `play_sound()` now takes optional `rate` and `stopped` arguments
- `set_pan()` can now take an `xy()` for the pan position
- Import Existing Asset dialog now supports keyword filtering
- Improved sound preview in IDE with full pause, volume, and scrub controls

2020 October 18: Update 52
===================================

- New `cursor-9x9.sprite.json` spritesheet
- New `weaver-7.font.json` font
- Reference constants may now point to named sprites
- Added IDE GUI editor for reference constants
- Added `device_control("set_mouse_cursor", name)`
- Added "Import existing script" dialog
- Added "Import existing mode" dialog
- Added "Import existing doc" dialog
- Fixed `false` boolean constants not appearing in the GUI for the debug layer
- Fixed mouse and touch movement deltas to work correctly on high framerate displays


2020 October 9: Update 51
===================================

- New Input example program
- New `weaver-10.font.json` font
- Added Russian Cyrillic character "в" to fonts
- Improved credits scrolling speed and fonts
- Improved pixel sharpness on Chrome Windows and macOS at certain pixel ratios.
  All browser and OS combinations are now pixel-perfect at all scales.

2020 October 2: Update 50
===================================

- Added `sprite.base` pointer
- Added `sorted()` functional sort
- Added a `.gitignore` to new projects by default
- Fully implemented debug.json files and IDE support for Debug Override
- Fixed `z_dir` not being properly set or read by the argument object
  versions of `set_transform()` and `get_transform()`
- Fixed system pause menu at 64x64 not restoring clip and transform


2020 September 27: Update 49
===================================

- New _Kart_ example of a perspective ground plane
- New _Warlock 3D_ example of a first person viewpoint
- New Blasphemer tile set
- New Freedoom tile set
- New Minecraft Pixel Perfection tile set
- New footsteps sound loops
- Added `ray_intersect_map()` collision detection routine
- Added `curved_arrow` and `corner_arrow` to `shapes-32x32.sprite.json`
- Added subpixel precision support for `mouse.dxy` on `device_control("get_mouse_state")`
- Added `device_control("set_mouse_lock")`
- Added `.data.json` files for large assets in arbitrary formats
- Added `set_playback_rate()` for audio
- Added `draw_map_span()`
- Added IDE context menu option to remove a mode from the game
- Added IDE context menu option to remove a document from the game
- Allowed leading underscores on variable and member names
- Improved frame rate scaling for low end processors
- Tuned built-in Controls pixel layout for every resolution
- Fixed `mouse.dy` on `device_control("get_mouse_state")` returning incorrect values
- Fixed swapped `sprite.rotated_90` and `sprite.rotated_270`
- Fixed missing transparency for `sprite.rotated_90` and `sprite.rotated_270`
- Fixed missing edge on outlined polygons, triangles, and rotated rectangles
- Fixed physical controller overriding keyboard D-pad if activated
- Fixed polygons, triangles, and rectangles rotating the wrong way under camera transforms
  when the Y-axis is up
- Fixed `get_map_pixel_color()` on tiling maps
- Incompatible change: `ray.origin` --> `ray.pos`, `ray.direction` --> `ray.dir`


2020 September 12: Update 48
===================================

- New game, _Doubles de Pon_
- Added `sprite.rotated_90`, `sprite.rotated_180`, and `sprite.rotated_270`
- Added robot to `shapes-32x32x.sprite.json`
- Added correct sprite size to `beast-soldier-32x32.sprite.json`
- Added `invert_sprite_y` optional argument to `get_map_pixel_color()`
- TMX maps now support rotation as well as flips
- Disk, circle, text, and rectangle centering are now all aligned for subpixel
  offsets
- IDE now shows the current filename at the top of the code editor
- Context menu now keeps IDE rollout project view visible in debug layout
- Optimized the performance of `rgba()` colors for `draw_point()` about 20%
- Fixed `draw_text()` not returning a value in skipped frames
- Fixed `noise()` for the 3D case
- Fixed HSV color preview
- `get_map_pixel_color()` now accepts an output value to avoid memory allocation
- Fixed wrapping `draw_map()` under simultaneous transform scale and camera 
  rotation transformations
- Incompatible changes:
   - `get_map_pixel_color()` now accepts a range of layers and composites all values
     read across them
- Known bugs:
   - HSV color preview not 100% accurate
   - `get_map_pixel_color()` uses wrong coordinates outside of primary bounds for wrapping maps
   - `draw_map()` not visible outside of central 3x3 repetitions for wrapping maps


2020 September 4: Update 47
===================================

- New built-in game "Beyond Control"
- New example "Planet Generator" for 2.5D procedural content
- New example "Clouds" of per-pixel graphics
- New example "Entity" of different entity features
- New `scoreboard-5` font
- New `splash-00` sound
- New `sparks-00` through `sparks-04` sounds
- New `explode-10` sound
- New `powerup-11` sound
- New `shoot-11` sound
- New `shoot-12` sound
- New `loop-prometheus` sound
- New `loop-forest` sound
- New `loop-escalator` sound
- New `loop-beat` sound
- New `loop-wind` sound
- New `beast-soldier-32x32` spritesheet
- New `shapes-32x32` spritesheet
- New dots, stripes, wood, and carbon console vinyl wraps
- Added `gamepad.prompt["##"]` for a replacement string for the player number
- Added `.debug.game` layer (see the Debug JSON section)
- `debug_watch()` now allows multiple identical expressions at different locations
- `debug_watch()` and `debug_print()` output are now hyperlinks to the source location
  that produced them
- Added 320x180 support for targeting Switch, PiBoy, 720p, 1080p, and 1440p
- Added support for TileKit
- Added optional stick index argument to `device_control("get_analog_axes", ...)`
- Added `font.spacing` and `font.glyph_size`
- Packed `suchet-12` font characters more tightly to conserve memory
- Optimized rendering of successive rectangles using the same `z` value
- Optimized the 2D `noise()` function variant (now runs in 3/4 the time)
- Incompatible changes: 
  - Made the order of arguments for `draw_tri()` consistent
    with other drawing functions
  - `local_time().daySecond` --> `local_time().day_second`
  - `xz_to_xyz()` now swizzles `z` -> `y`
  - Games must now opt in with a game.json `dual_dpad` setting for
    the P1 right stick to override the P2 D-pad for dual digital stick input in single-player
    games
  - The `entity.pivot` now affects rendering as well as collision detection,
    overriding the sprite's pivot (it defaults to the sprite's pivot)
- The start mode is now specified with `start_mode` in the game JSON file instead of
  an asterisk
- `sequence()` now accepts bare numbers indicating frames to skip
- `sequence()` now supports an `end_callback`
- Made the default radius for `random_truncated_gaussian()` 2.5 standard deviations
- Changed the `region` of a sprite JSON file to take `"corner"` instead of `"pos"`
  (the old version is accepted as a synonym for backwards compatibility at the moment)
- The sprite viewer in the IDE now autoscales for tall sprites
- `stop_audio()` now allows the argument to be `nil`
- Added `SOURCE_LOCATION` zero-argument operator
- `set_random_seed()` now defaults to a random seed based on the time
- `random_value()`, `shuffle()`, and `shuffled()` now take an optional
  random number generator argument
- IDE can now create new sound assets
- IDE can now change the order of execution of scripts
- IDE can now remove scripts (removed scripts are not deleted on disk)
- IDE can now rename scripts
- IDE project window now rolls out on hover in debug mode
- `gamepad_array[]` elements now print as their name instead of properties
- Increased the contrast of the text in ghost mode
- Reordered quick links on the top of the manual
- Rewrote the Project File section of the manual to clarify the asset vs. constant distinction
- Increased the contrast on the sprite editor info data
- The Import Asset dialog will now automatically default to a useful variable name
- The Import Asset dialog can now import raw PNG, TMX, and MP3 files
- Sprite JSON files now default to assuming a single sprite that is the size of
  the spritesheet if none is specified
- Fonts now only count as 1/2 pixels towards the sprite pixel limit because they are
  compressed
- Internally renamed variables and files for easier refactoring and future PyxlScript features
- The fullscreen layout button now returns to full screen if tapped when already selected
- IDE code editor now highlights compile-time error lines in red
- Editor divider pane layout now persists over reload
- Added Dualshock4 controller to the officially tested list
- Added support for the [8bitdo M30](https://www.8bitdo.com/m30/) SEGA Genesis style controller
- Added support for the Raphnet adapter and SEGA Genesis and Mega Drive retro bit controllers
- Added `device_control()` `"load"` and `"save"` commands for JSON files
- Added `touch.screen_x`, `touch.screen_y`, `touch.screen_xy`, `touch.screen_dx`, `touch.screen_dy`,
  and `touch.screen_dxy` accessors for screen-space (instead of camera-space) positions
- Added `rgba(rgb, a)`, `rgba(hsv, a)`, `xyz(xy, z)`, `xyz(xz, y)`, `hsva(hsv, a)`, `hsva(rgb, a)`
- Added `transform_ws_to_ss()` and `transform_ss_to_ws()`
- Added `{br}` line break markup
- Added `ABS()` intrinsic
- Added `sprite.animation` property
- Added Sega Genesis and Mega Drive controller support
- Added `⑤ ⑥ ⓩ` characters to font mapping and all fonts
- Added `design` document template for New Doc menu
- Added named argument version of `draw_corner_rect()`
- Added `table` constants that use external CSV files
- Added `"multiply"` blend mode for `draw_sprite()`, useful for colored lighting
- Added support for transposed spritesheets in the IDE sprite viewer
- Added support for regions in the IDE sprite viewer
- Added a global volume control on the Console menu
- Added buttons to copy stats summaries from the Stats pane
- Added `X_Arcade` controller icon and mapping for the [X-Arcade](https://shop.xgaming.com/) USB controller
- Added `PiBoy` controller icon and mapping for the [PiBoy DMG](https://www.experimentalpi.com/PiBoy-DMG--Assembled_p_16.html)
- Added `device_control("console.dir", ...)` for web browser console access
- Fixed new game filename shortener to keep the beginning instead of the end of names
- Fixed iterator container-mutation check when changing modes
- Fixed `draw_sprite()` API links in the manual
- Fixed `touch.xy` coordinates under translation transformations
- Fixed recursive `push_mode()` and `pop_mode()` not preserving `draw_previous_mode()` state
- Fixed `export.py` script to set read file permissions on the contents of the zipfile
- Fixed constant editor vector vertical nudge value to default sign based on `y_up` setting
- Fixed analog axis snapping when near 8-direction points
- Fixed sprite editor not updating after JSON edits
- Fixed gutters on sprites
- Fixed initial `entity.size` to be based on scale for rectangular shaped entities that have initial sprites
- Fixed broken images in Markdeep design documents after edits
- Fixed incorrect image scaling when embedded in itch.io at 1080p
- Fixed a bug that prevented `debug_watch()` on values containing string literals
- Fixed IDE edits to asset JSON files not persisting after load
- Fixed incorrect line numbers when using `default` expressions
- Fixed 3-space indenting in .game.json files
- Fixed internal assertion failure for `make_spline()` with negative time values
- `clone()` and `deep_clone()` on _constants_ now clones the value
  and makes it mutable, while on _assets_ (other than maps) and built-in objects 
  returns the original object.


2020 July 10: Update 46
===================================

- New font: `hauer-12`
- New font: `robot-18`
- IDE code editor now highlights run-time error lines in red
- Color constant editor preview now shows the exact 16-bit color
- Color constant editor preview now visualizes alpha channel
- Made `local:` and `preserving_transform:` lines free versus total source statement limit
- Added `gamepad_array[]` reordering dialog to support arcade configurations. 
  Access this from the Controls tab of the debugger.
- Added a breakdown of code size by file in the Stats window of the debugger.
- Added a breakdown of sprite pixels by file in the Stats window of the debugger.
- Fixed macOS quadplay script when quadplay and the home directory are on different volumes.
- Fixed the bottom line not appearing on the editor on some browsers
- Fixed binding on the animation example ninja duck key
- Fixed `text_width()` being too small by one space between letters
- Fixed a physics system crash on rare contact breaking situation
- Fixed an API upgrade bug on object removal in Serpitron during showdowns
- Fixed the mode graph clipping on the bottom
- Made the mode graph scrollable

2020 July 3: Update 45
===================================

- Made function definition lines, `todo()`, and `assert()` 
  free versus the total source statement limit
- Optimized `debug_print()` to make it practical to print large amounts of data
- The `confirm` argument to `set_pause_menu()` can now be a string that specifies
  additional message text
- Made assets print in `debug_print()` and `debug_watch()` as their variable name
- Assets with the same source URL are now guaranteed to produce live objects that
  are `==` to each other, except for maps, which are guaranteed to be `!=` because
  they are mutable
- Made `clone()` and `deep_clone()` work properly on assets and constants
- The `pan` argument to `play_sound()` can now be an `xy()` value for positional sound
- Updated X-Arcade instructions to reflect the latest 9.14 firmware
- Changed physical modern console controller mapping so that triggers are aliases for
  shoulders (previously P1's triggers were P2's A and B buttons)
- Added `map.spritesheet` convenience helper
- Added support for arbitrary properties on sprites in the `sprite.json`
- Added `kenney-cartography-64x64.sprite.json`
- Added `sprite.orientation_id` to distinguish unique orientations
- Added `any_button_release()`
- Added `explode-12.sound.json`
- Added `spawn_particles_from_map_ws_coord()` to `scripts/particle.pyxl`
- Optimized in-IDE game start time
- The `export.py` script now ignores temporary and backup files
- The `export.py` script now makes all output files world readable
- Fixed a slight blue bias in alpha blending
- Fixed alpha blending on sprites that are transposed at load
- Fixed map coordinate documentation to match the practice, which is that
  map coordinates are at tile _corners_ if there is no `offset` on the map.
- Fixed too-aggressive caching of map loading from IDE
- Fixed `draw_map()` case using named arguments for `replacement_array`
- Fixed `transform_map_space_to_ws()` and `transform_ws_to_map_space()` to map 
  integer map coordinates to the centers of map tiles, as specified in the manual
- Fixed constant references to assets
- Fixed RPG demo crash
- Fixed vehicle demo button prompts


2020 June 23: Update 44
===================================

- Incompatible change: `draw_text()` multiline `y_align = "center"` and 
  `y_align = "bottom"` now adjust to the entire text block and not the first
  line
- Incompatible change: Renamed 
  `##-Coin.sound.json` to `coin-##.sound.json`,
  `##-Shoot.sound.json` to `shoot-##.sound.json`, 
  `##-Jump.sound.json` to `jump-##.sound.json`,
  `##-Explode.sound.json` to `explode-##.sound.json`,
  `##-Powerup.sound.json` to `powerup-##.sound.json`,
  `##-Hit.sound.json` to `hit-##.sound.json`,
  `##-Wild.sound.json` to `wild-##.sound.json`
- New font: `suchet-12`
- Support for custom properties on TMX maps
- Auto-generated TODO lists in the IDE from `todo()` statements in code
- Errors will now open the appropriate file and line in the IDE
- Changed document editor layout to show 50% preview and 50% source editor
- Load a new script faster after creation
- Active debugger tab persists over reloading
- System pause menu now pauses game sound effects
- Syntax highlighting in the IDE for `parse()` and `random_within_cube()`
- Added Shift+F6 hotkey for label generation
- Added a context menu for modes in the project view of the IDE
- Added `sequence.BREAK` and `sequence.NEXT` options
- Added five-argument version of `lerp()`
- Added `LERP()` intrinsic
- Added `starts_with()` and `ends_with()` functions for strings
- Added "go to line" command (Ctrl-G/⌘-G) for the IDE
- Added `engine-00.sound.json` and `engine-01.sound.json`
- Fixed Windows paths in URLs
- Fixed Add Existing Asset... on Windows
- Fixed rectangle alpha blending
- Fixed `random_within_sphere()` crashing
- Fixed asset json editor changes being overwritten by caches
- Fixed alpha channel of screenshots
- Fixed emulator alignment on Safari
- Fixed constant parsing for `pi` in game.json files
- Fixed map preview rendering (was broken by the previous update)
- Fixed scalepix tool (was broken by the previous update)
- Fixed new game-level constants reverting to zero on Chrome
- Fixed project asset/constant scrolling to allow full variable
  names to be seen
- Fixed automath sometimes leaving the cursor off by one character

2020 June 14: Update 43
===================================

- Incompatible change: it is now illegal to mutate the container being iterated over
  by a `for...in` loop. Use `for x in clone(container):` as a workaround if you need
  mutation, which is still relatively fast.
- Incompatible change: `+ - / * += -= /= *=` operators are now illegal to use on arrays (they 
  are still overloaded for objects)
- Incompatible change: `for` loops now evaluate the upper bound only once, before the loop body begins
- Incompatible change: renamed `Blip*.sound.json` to `blip*.sound.json`
- Temporary Network Multiplayer workaround solution (to be replaced with a more straightforward 
  method at release)
- Changed screenshot filename format to international date format to sort correctly
- Added IDE option to restart a paused game automatically when focus switching back to the browser
  from an external editor or other tab
- Optimized nonrotated opaque sprite drawing by up to 2x and halved memory usage by reducing 
  GPU implementation to true 16 bit
- Optimized Safari sprite drawing using forced integer coordinates for up to 4x performance
  increases in specific cases
- Optimized rotated and scaled opaque sprite drawing by 10% by handling this case separate
  from tinting, alpha test, and opacity
- Optimized thick line rendering by reducing virtual CPU Logic overhead
- Optimized default `for` and `for...in` loops under the new semantics
- Scripts loaded from `quad://scripts/` no longer count against the total program size
- The game.json file is now directly editable in the IDE
- Errors now report the filename with the URL truncated if it matches the game URL
- The game.json structure for docs stores only raw URLs now, not metadata
- Made the project pane wider to make it easier to see long variable names
- Disabled browser navigation hotkeys to prevent accidentally leaving
  the IDE
- Disabled Chrome browser two-finger back gesture to prevent accidentally leaving
  games or the IDE
- Added syntax highlighting to inline code in the manual
- Added `IDE_USER` constant
- Added `iterate()` function
- Added `lerp_angle()`
- Added `perceptual_lerp_color()`
- Added `examples/perceptual_color`
- Added `explode-11.sound.json`
- Added `xy`, `dx`, `dy`, and `dxy` values to `device_control("get_mouse_state")`
- Added syntax highlighting for `touch` in the IDE
- Added syntax highlighting for the type-testing functions `is_array()`, `is_object()`, etc. in the IDE
- `for` loops now test for illegal containers
- Added mouse support to the fluid simulation demo
- Added more error checking to entity functions
- Added `todo()` debugging statement
- Added `"reference"` constant type 
- Added `scripts/particle.pyxl` reusable script
- Added `sounds/shoot-10.sound.json`
- Tooltips in the project listing of the IDE now show the full names of variables and scripts
  as well as URLs and descriptions
- Improved error checking for `find_path()`
- Made the Debug mode use a 1.5x scale emulator on displays of 1600 pixels wide or less
  (factoring in pixel doubling for retina displays) and 2.0x scaling at higher resolutions
- Linked the game folder display in the IDE to opening the folder on disk
- Fixed missing clamping of RGB colors outside the 0-1 range during rendering
- Fixed HSV to and from RGB conversion
- Fixed line number errors for programs with long lines
- Fixed the bottom rows of the code editor being cropped
- Fixed automath operating on non-pyxl files
- Renamed `get_map_sprite_by_draw_coord()` --> `get_map_sprite_by_ws_coord()`
- Renamed `get_map_pixel_color_by_draw_coord()` --> `get_map_pixel_color_by_ws_coord()`


2020 May 23: Update 42
===================================

- Incompatible change: Removed subscripts as array indices. They are still valid characters for strings.
- Incompatible change: renamed "sound" --> "audio" and "audio clip" --> "sound" in the API
- Made `Delta` autocorrect to `Δ` without requiring a following space in the IDE
- Made rename and add asset/constant update faster
- Search and Replace in the editor now triggers autosave
- IDE open dialog now includes game descriptions and icons
- P1's right stick and triggers no longer provide input to P2 unless P2 does not
  have a physical controller
- New sound `loop-chilltech.sound.json`
- New sound `music-vice.sound.json`
- RPS game now times out after about 15 seconds when a player hasn't chosen
- Serpitron game now has shorter showdown levels in 2-player games
- Moved the code editor below the map/sprite/font view in the IDE
- Added Vaporwave 3D example program
- Added "New Asset..." dialog in the IDE for creating new sprites
- Added `source_url` field for sprites to support export processesqu
- Added autocorrect support for additional capital Greek letters `ΓΔΘΛΞΠΣΦΨΩ`
- Added `transform_es_to_es()`
- Added right-click menu for music assets
- Added new Twin Analog stick example for dual stick shooters
- Added `Arcade` (quadplay native), `Arcade_X` (Xbox labels), and `Arcade_PS` (PlayStation labels) controller
  options
- Added X-Arcade controller information to the manual
- Added buttons (as well as D-pad) choices for RPS game to better conceal player movements on an arcade controller
- Renamed map transformation functions to `transform_ws_to_map_space()`, `transform_map_space_to_ws()`, `transform_ws_z_to_map_layer()`,
  and `transform_map_layer_to_ws_z()`
- Changed default tab/indentation size to four spaces to reduce conflicts with Python editors
- The quantize tool now allows toggling the "dither" option after dropping the image
- Made quantize tool display using nearest neighbor interpolation
- Improved Safari performance by warming the sprite blitter JIT during the quadplay logo screen
- Improved Safari performance for Beat the Gobblins by eliminating large alpha-masked sprites
- Improved Safari performance by removing explicit nearest-neighbor upscaling and using CSS zoom
- Improved Safari load time on dual-core processors by spreading out asynchronous requests in time
- Improved `lerp()` and `clamp()` performance
- Fixed compilation of fractional degrees and percentages
- Fixed map occlusion culling (was showing empty tiles)
- Fixed loading quad:// games from the command line
- Fixed blurring on Safari by using CSS zoom instead of CSS scale on that platform and adjusting layout
  to compensate
- Fixed Safari mouse and touch event scaling
- Fixed Debug UI layout not allowing full horizontal scrolling of the editor
- Fixed button prompt alignment in Broderick-7 font

2020 May 8: Update 41
===================================

- Added named argument versions of all drawing routines
- The new game's title now appears in the game and JSON when creating a new game in the IDE
- IDE now automatically reloads externally changed files from disk when it regains focus
- Faster saves on constant changes in the IDE
- Added "Show in Finder/Explorer" for assets in the IDE
- Added "Open with..." support for Photoshop, Krita, Aseprite, GIMP, Audacity, and Tiled in the IDE
- Avoided IDE touching unchanged source files on disk to improve external editor interop
- Added top runner sprites to complete the Action Spy set
- Added support in the `quadplay` script for Windows systems with multiple drives
- Added 'y' and 'z' superscript characters to fonts and the compiler (there are no
  subscripts for these because they do not appear in Unicode)
- Documented backdoor mouse support via `device_control()`
- Changed the mouse cursor to a crosshair over the emulator screen
- Fixed relative paths when creating a new game from the IDE
- Fixed `animation.frames`, which was completely broken in the previous release
- Supported hierarchical directory structure under `~/my_quadplay/`
- Implemented "automath" autocorrect-style typing of Unicode symbols in the text editor
- Assets now appear in consistent alphabetical order in the project view of the IDE
- New "Z-Car" wireframe 3D example


2020 May 1: Update 40
===================================

- Added `set_camera()` and `get_camera()` and global camera support
  to all drawing functions for camera rotation, translation, and zoom
- Added occlusion culling optimizations to `draw_map()` for eliminating
  completely covered tiles
- New sportscar sprites
- New attack helicopter ("chopper") sprites
- New tank sprites
- New road tile sprites
- New suchet-9 font
- Removed browser context menu from most UI surfaces (it is still
  present on links and text boxes)
- Constants can now be deleted from a project
- Assets can now be renamed in a project
- Added `pos`, `angle`, and `scale` arguments to `draw_map()`
- Implemented z clipping for `draw_map()`
- Added `examples/vehicles` sample
- Renamed "draw" space to "world" space and introduced "camera" space
- Removed screen-space touch events
- Changed all `device_control()` arguments to snake case
- map.json `z_scale` is now permitted to be 0
- Increased the built-in epsilon value by 10x and decreased the 
  sprite draw call order-preserving offset by 1000x to ensure that epsilons
  can override sprite draw call order
- Made Ctrl/Cmd-S do nothing, to avoid accidentally saving the browser page
  when using the IDE (since the game autosaves)
- Fixed map preview rendering of flipped sprites
- Fixed `set_clip()` with `pos = nil`
- Added autocorrect for math symbols option to the Tools menu

2020 Apr 25: Update 39
===================================

- Added ⓔ and ⓕ buttons, which are mapped to shoulder buttons on physical controllers
- Added a new playable game, "Across the Lake"
- New games can now be created from the browser based IDE using "New Game..."
- Games can now be loaded from the browser based IDE using "Open Game..."
- Changed `lifetime` and `duration` arguments to various APIs to `frames` for consistency
  with the sprite and other settings, and to match the name "frame hook"
- Fixed Ctrl/Command+C not copying in the IDE
- Added an Animation section for sprites
- Added `animation.frame()` for accessing animations by game frames instead of sprite index
- Added button prompts to all fonts
- *Incompatible change*: Renamed `"flip_y"` to `"y_up"` in .map.json and .game.json files
- Fixed editor making relative URLs inside .sprite.json and other asset files absolute
- The IDE now uses `$HOME/my_quadplay` as the root for new games
- `any_button_press()` now responds to any `touch` as well
- Increased the QR code size in the host tab to make it easier to scan
- Changed the way that the width of the white space character is computed for
  fonts. It now uses the largest width of the `"il¹;["` characters
- 2x performance optimization for alpha blending large sprites with no rotation or
  scale
- Added `get_sound_status()` function
- The IDE now puts badges on constants that are uneditable because the .game.json file is 
  on a remote server or built-in
- `quadplay` script no longer prints all internal messages
- Changed default startup UI layout to `Emulator` for non-IDE mobile, `Maximal` for non-IDE 
  desktop, and `IDE` if running in IDE mode

2020 Apr 17: Update 38
===================================

- Kiosk mode now completely fills the screen, removing all quadplay UI
- Pressing play or reload now saves all documents immediately
- Prevented frame rate changes during the first 1000 ms of a new mode
  to allow the JIT to catch up
- Ghost mode for livestreaming the development environment
- Pressing Play now restores keyboard focus to the game
- Added touch example program
- Added arrows for nudging vector constants in the IDE
- Added sliders for color constants in the IDE
- Fixed syntax highlighting for `with`, `entity_add_child`, and `entity_remove_child`
- Improved frame rate scaling to avoid dropping to 30 Hz during transient browser hitches
- Changed the player 1 keyboard mapping to B,H,V,G for the main buttons
  to make room for new virtual "shoulder" buttons
- Changed mapping of game reload to Ctrl+R on Safari to prevent browser reload of the
  page, and clarified all hotkeys with improved tooltips.
- Added PS5 controller mappings and graphics
- Optimized sequential rendering of multiple sprites with the same `z` value
  and clipping region
- Argument object version of `draw_map()`
- `draw_map()` now accepts optional `pos`, `scale`, and `angle` arguments
- Recorded GIFs now download in the same way as recorded PNGs
- Added generalized `transform_to()` and `transform_from()` routines for points
- Added support for Xbox Series X controller
- Added a second row of 4x wide glyphs to the font format
- Redrew all fonts with new glyphs for ⓔ, <big>⦸</big>, ⓝ, ⓗ, alt, left shift, right shift, and tab

2020 Apr 11: Update 37
===================================

- New wide-screen "Debug" UI layout option with 2x scale emulator
- Undo and redo hot keys and buttons in the code editor
- Changed case color names
- Added new orange and white case color options
- Tuned gold case color
- Improved case layout for small sizes
- Can now edit string, number, `xy()`, `xz()`, `xyz()`, 
  `hsv()`, `hsva()`, `rgb()`, `rgba()`, and boolean
  constant values in the IDE while the game is running
- Added unique icons for different constant types in the IDE
- Dialog for creating new constant values
- Made `replace(string, object)` operate on all values simultaneously
- Fixed IDE syntax higlighting for boolean operators
- `draw_line()` now accepts a width argument
- New wright-8 font
- New deja-7 font
- New deja-6 font
- New deja-5 font
- New deja-4 font
- New deja-3 font
- "Sproing" and "Camera Zoom" examples
- Constants now have a `description` documentation field that appears in the IDE
  and as tooltips
- Updated markdown and [Markdeep](https://casual-effects.com/markdeep) processing to version 1.10
- Created more room for the code editor in Debug view


2020 Mar 30: Update 36
===================================

- Syntax highlighting for intrinsics in Emacs and the IDE
- Documented the autoscaler resolutions
- Optimized IDE load time using `defer`
- Optimized game load time using `async` and separate CPU and GPU scripts
- Renamed `ASSET_CREDITS` --> `CREDITS`
- Moved the console credits out of the `CREDITS.code` section and into
  their own `quadplay` section
- Made four-way ball splits in Quadpaddle example game
- When launching without the IDE, always go full screen
- Document editor now preserves scroll position when updating
- Document editor now forces cache override
- Added paddle shield powerup in Quadpaddle example game
- Added `entity_remove_all()` to syntax highlighting
- Added `miniroguelike-8x8.sprite.json`
- Added the Network section of the manual
- Added the advanced Physical Consoles section
- Added `examples/roguelike`
- Added `--kiosk` mode for the `quadplay` script
- Fixed recursive `overlaps()` on entitys with children
- Fixed spritesheets for maps not showing in the project viewer


2020 Mar 25: Update 35
===================================

- Editing for sprite, font, map, and sound metadata directly in the IDE
- Fix for the `quadplay` script when launched with an explicit `.game.json` file
- Built-in assets cannot be modified and are shown with lock badges on their icons
- Remote assets cannot be modified and are shown with cloud badges on their icons
- Disabled reloading while the editor is saving
- Can change the initial mode from the IDE
- All four gamepads are now enabled in the launcher for navigating to a game
- Patches for the sprite editor UI


2020 Mar 18: Update 34
===================================

- New wide editor UI IDE view mode
- Maximal UI now enters full-screen mode even when the IDE is enabled
- Editing is enabled for modes and scripts in the IDE
- Code editor font size is now adjustable
- Can now create new modes and scripts in the IDE
- Can now edit screen resolution and flip y-axis in the IDE
- Can now change the game license in the IDE
- Can now change the game title, copyright, and developer in the IDE
- Game description and metadata are now visible and editable in the IDE
- Added SN30 Pro controller settings
- Added more explicit dual-stick and shoulder/trigger control documentation
- `draw_text()` shadows now apply after outlines, so they are on the outside
- Per-tab editor state for undo/redo, selection, and cursor position


2020 Mar 7: Update 33
===================================

- Added `CONSTANTS` and `ASSETS` objects
- Added `default`, a "nullish-coalescing" operator for creating default values
- Added R. P. S. game
- Syntax highlighting for `#RGB` colors in emacs


2020 Mar 5: Update 32
===================================

- Added long text button prompts for SPACE, ENTER, RETURN, SELECT, START, 
  SHARE, and OPTIONS to fontgen
- Converted the scalepix tool to dark mode
- Optimized set controls OS dialog layout for all screen sizes
- `font.lineHeight` -> `font.line_height`, `font.charSize` -> `font.char_size`, `font.letterSpacing` -> `font.letter_spacing`
- Renamed `draw_text()` arguments `wrapWidth` -> `wrap_width` and `textSize` -> `text_size`
- Added auto-generated asset credits screen on pause menu
- Added .game.json constant types for `xz`, `hsv`, and `hsva`
- Included time in screenshot filenames
- Added joint `def-preserving_transform` block to reduce indentation
- Added the Unmatched Push and Pop Mode section explaining complex mode transitions
- Renamed `assetCredits` -> `ASSET_CREDITS`
- Added serifs to Broderick font capital I variants
- Made touching the screen in IDE mode not trigger button presses


2020 Feb 24: Update 31
===================================

- Removed context menu from emulator to make touch screens more responsive
- Fixed virtual controller responsiveness on Android Chrome
- Sharpened boot screen text on Safari
- Fixed `gamepad_array[i].angle` to follow the current Y-axis scaling
  and match `draw_sprite()` angle
- Changed the internal font image layout and added explicit keycaps 
  characters to all fonts for all buttons used in controller and 
  keyboard mappings to distinguish them from regular letters
- Added `bitnot` text operator as a synonym for `~`
- `collision_` --> `contact_` in the API to reduce unique terms
- Switched all GUI tools to dark mode styling
- quantize tool now allows dropping the image anywhere on the page
- Improved fontgen button prompt draft characters


2020 Feb 17: Update 30
===================================

- Fixed Beat the Gobblins trying to write to read-only properites
- Fixed confirmation dialog crash in OS reset menu
- Reduced the number of rats in Serpitron
- Reduced number of buildings on urban levels in Serpitron
- quadplay internal server now does not return directory listings, to increase security
- quadplay script now works from any directory for games in any directory
- `quadplay --host` now launches faster on macOS
- Optimized manual loading time by removing mathjax


2020 Feb 16: Update 29
===================================

- Changed the gamepads to define the direction of `x`, `y`, `dx`, `dy`, `xx`, and `yy`
  based on the current transformation at the time that they are accessed
- Reduced number of rats in single-player Serpitron
- Reduced the coffee speed in Serpitron
- Changed `spriteUrlTable` --> `sprite_url_table` in map format
- Fixed single-player snake hitting itself on the donut level in Serpitron
- Fixed SpeedStreet loading crash introduced in the previous beta
- Fixed `map.wrap_y` and `map.wrap_x`, which were broken by the camel case to snake case conversion
  in a previous beta
- Fixed caching where multiple json files reference the same sound or image
- Fixed several bugs in the RPG example
- Optimized game launch time and memory utilization by eliminating 
  in-memory backup copies of immutable assets


2020 Feb 15: Update 28
===================================

- Added optional `gamepad` argument to `any_button_press()`
- Made controls menu option more visible in standalone game mode
- Changed all fields of map to use snake case
- Added `--zipfile` argument to `export.py` to streamline itch.io distribution of games
- Made `export.py` runnable from any directory
- Made `export.py` default to a standalone export
- Added Beat the Gobblins game by Stephan Steinbach
- Fixed IDE visualiztion of modes to support `push_mode` and `set_mode` with arguments
- Added the `touch` API (no draw transform support in this implementation)
- Added `xy` and `dxy` properties to `gamepad_array` elements
- Improved the startup play icon for mobile using svg


2020 Feb 6: Update 27
===================================

- Added `xyz_to_rgb()` and `rgb_to_xyz()`
- Added `xy_to_xz()` and `xz_to_xy()`
- Added `xy_to_xyz()` and `xz_to_xyz()`
- Added `MAT2x2_MATMUL_XY()` and `MAT2x2_MATMUL_XZ()`
- Fixed outlines breaking up letters on script fonts
- Removed the home button from the UI, as the in-game OS menu now handles this
- Forced immediate interaction in autoplay mode to unlock fullscreen and audio context
  features in various browsers
- Removed quadplay branding on the mobile welcome screen and removed 
  escape to OS from standalone games to emphasize the game's own branding
- Allowed keyboard and gamepad input to activate a standalone game from the
  welcome screen


2020 Feb 2: Update 26
===================================

- Added `examples/highscore` example
- Added `xz()` for convenience when working with top down coordinate systems,
  and corresponding intrinsics
- Browser tab label is now the game title
- Significant copyediting of the manual by Mauricio Vives
- Changed the definition of `override_color` alpha for `draw_sprite()`
- Added `array_value()` support for strings
- Fixed Emacs syntax highlighting matching keywords that appear within variable names
- Fixed multiple bugs in `tools/export.py` and supported games not in the quadplay
  directory tree
- Fixed `flip_y` for maps
- Fixed `save_local` and `load_local`
- Fixed `join()` default separators
- Fixed `parse()` for nested objects within arrays


2020 Jan 29: Update 25
===================================

- Converted the entire API from camelCase to snake_case to improve readability
  and more closely resemble Python and Lua
- Replaced all instances of `rnd` with `random` and `int` with `integer` in the API
- `random_int()` -> `random_integer()`
- `srand()` -> `set_random_seed()`
- `pad[]` -> `gamepad_array[]`
- Removed most scroll bars from the IDE on Windows
- Clicking on gamepad icon now displays the name of the gamepads in the IDE
- Added `hauer-6` font asset
- Added `cruise-7` font asset
- Added `connelly-7` font asset
- Added `thompson-8` font asset
- Increased vertical spacing on `cga-7`, `deja-8`, and `cpc-14` fonts
- `draw_text()` now returns a tighter vertical bounding box
- Added kerning for script fonts
- Added `examples/fontpreview` example

2020 Jan 25: Update 24
===================================

- Added `physics_entity_has_contacts()` for optimized contact tests
- Fixed `physics_remove_all()` crash
- Increased physics broken contact forgiveness queue length to four
  frames to better maintain ground contact for sliding objects
- Fixed sustained physics contacts for fast moving objects not updating position properly
- Fixed `"Game start"` argument being passed to the start mode's `enter` event section
- Added `tools/export.py` tool
- Made `tools/quaddepend.py` able to launch directly as a script on macOS and Linux
- Renamed internal BetterJSON library to WorkJSON
- Centered ninja sprites
- Added detection for 8BitDo SN30, SF30, and Zero 2 controllers
- Redesigned the internals of the virtual sprite and font hardware memory system


2020 Jan 18: Update 23
===================================

- Redesigned profiler output in the "Stats" IDE tab to show
  game logic, physics, and graphics time separately
- Rewrote framerate scaling to maintain the best possible motion
  appearance independent of framerate
- Optimized memory management for physics attachments by reference
  counting and weak pointers
- No longer count quadplay OS resources against the game's limit
- Corrected the emulator screen position to remain centered during resizing
- Added more information on physical controllers
- Improved manual document layout on mobile phones in portrait mode
- Added `ninja-pink-32x32.sprite.json`
- Added `ninja-idle-64x64.sprite.json`
- Adjusted ninja colors


2020 Jan 14: Update 22
===================================

- Implemented game frame rate throttling to 60 Hz on high refresh rate monitors
- Fixed keyboard event handling when the game is not making framerate
- Restored forum link in the IDE
- Added `.nojekyll` and `_config.yml` files for proper hosting of quadplay system
  filenames that begin with underscores on github.io
- Improved button prompt glyphs and vertical spacing in the nano-4, nano-5, scoreboard-6, scoreboard-7, and deja-8 fonts
- Fixed controls menu for games with y = up


2020 Jan 13: Update 21
===================================

- Added support for Switch Pro, JoyCon, PlayStation 3, Xbox360, and Stadia controllers
- Replaced with `◅ ▻` with `◀ ▶` in fonts
- Added `▼` to fonts (all four cardinal solid arrows are now represented)
- Added a system pause and configuration menu bound to the ⓟ/Start button
- Added a startup message for standalone games notifying players of the system
  menu button
- Added the <big>⊖</big> symbol to all fonts
- Removed the ⓟ gamepad button from game access space
- Added an event section for `pop_mode`, which can be overloaded for the mode
  being returned from
- Added `quaddepend.py` script for printing dependencies of a game file
- Changed quadplay script default to rejecting external connections and made the
  argument to enable mobile support `--host`, replacing the previous `--secure` mode
- Showed sprite pivots in the sprite viewer
- Added `entity.is_sensor` property
- Added 64x44 controller spritesheet
- Separated emulator settings out of the Tools menu into a new Console menu
- Added [scalepix✜](../tools/scalepix.html) tool for upscaling sprites and fonts
- Changed the `gamepad_array[].prompt` to be a mapping for use with `replace()` instead
  of raw constants and updated example programs to use it
- Documented the HOTAS `gamepad_array[].type`
- Added more error checking for `xy()` to catch common typos
- Added eight new blip UI sound effects
- Fixed `reset_game()` running the game at double speed
- Fixed `game_frames` and `mode_frames` starting at 60
- Redesigned boot and startup animations
- Restored `examples/text` program that was broken by the previous update
- Added `get_background()`


2020 Jan 3: Update 20
===================================

- Renamed `addEntityChild()` to `entity_add_child()`
- Renamed `removeEntityChild()` to `entity_remove_child()`
- Renamed `updateEntityChildren()` to `entity_update_children()`
- Renamed `physicsStepEntity()` to `entity_simulate()`
- Renamed `drawRect()` to `drawCornerRect()`
- Renamed `draw_spriteRect()` to `draw_spriteCornerRect()`
- Made `entity_simulate()` use `entity.drag` and invoke `entity_update_children()`
- Added hardware physics support. See the Physics section for the API
- Added physics debugging to the IDE
- Added [physics example](../console/quadplay.html?game=quad://examples/physics&IDE=1)
- Added `oscillate(x, lo, hi)` and deprecated `oscillate(x, m)`
- Added `entity_remove_all()`
- Allowed more flexible JSON syntax for data files
- Added BetterJSON.js to credits
- Added optional `pos`, `scale`, and `angle` arguments to `draw_tri()`
- Added `drawRect()` that is centered and takes an optional `angle` argument
- Added `drawPloy()` for drawing convex polygons
- Documented that `draw_tri()` ignores winding order
- Updated `tools/pyxlscript-mode.el` emacs syntax highlighting for new APIs
- Fixed `tools/pyxlscript-mode.el` emacs syntax highlighting of color literals, negative numbers, and `size` properties
- Optimized `overlaps(region, point)` test
- Changed default entity name from `"Anonymous"` to `"entity"` + unique ID
- [fontpack✜](../tools/fontpack.html) now allows dropping the source PNG anywhere on screen


2019 Dec 30: Update 19
=======================================

- Added the Inspiration section
- Added support for per-name (i.e., per-animation) pivots on spritesheets
- Added `"setDebugFlag"` and `"getDebugFlag"` commands for controlling the IDE
  via `device_control()`
- Added preview images in the Built-In Games section of the manual
- Added [poly-decomp.js](https://github.com/schteppe/poly-decomp.js) to dependencies
- Made `require`, `requires`, `default`, `otherwise`, and `swap` into reserved words
- Restored the instruction manual tab title to "manual✜" to make it easier to see
  in the same browser hosting the IDE
- Fixed audio on Safari desktop browser
- Removed `entity.acc` and `entity.twist` properties
- New properties for physics: `entity.friction`, `entity.stiction_factor`,
  `entity.restitution`, `entity.drag`, `entity.contact_category_mask`, `entity.contact_group`,
  and `entity.contact_hit_mask`
- Added `entity_apply_force()` and `entity_apply_impulse()`
- Added `magnitude_squared()` function


2019 Dec 25: Update 18
=======================================

- Added Deploying Games section
- Added [Serpitron](../console/quadplay.html?game=quad://games/serpitron&IDE=1) sample game
- Removed `extendPostEffects()` and reverted definition of `set_post_effects()` to match beta 16
- Added `compose_transform()`
- Renamed `addFrameSequence()` to `sequence()`
- Added `entity.pivot` and spritesheet pivots
- Fixed Chrome and Safari blank region on the bottom of the IDE
- Made deja-9 font glyph widths more consistent
- Raised mid-glyph bar for capitals 1px on deja-8 font


2019 Dec 14: Update 17
=======================================

- Fixed `get_clip()` off-by-one error
- Changed `intersect_clip()` to follow the argument conventions of `set_clip()`
- Fixed `draw_text()` using the incorrect vertical clipping region
- Added `last_value()` and `last_key()` for arrays and strings
- Made `floor()` and `ceil()` variants that take a rounding precision
- Added `fast_remove_value()`
- Fixed misalignment of `-` character and enlarged the `+` character in the broderick-7 font
- Added `delay()` and `addFrameSequence()`
- Added options for open-ended line segments in `drawLine()` to support
  drawing polylines and curves with transparency
- Fixed `set_post_effects()` background color crashing the emulator
- Made Modes slightly wider in the visualization graph to accomodate longer mode names
- Fixed a bug in the parsing of `because` statements that contained parentheses
- Added support for type `"object"` in game JSON constants
- Added `broderick-14` font
- Made `loop()` work on vectors
- Made `noise()` work on vectors
- Added `extendPostEffects()` and `get_post_effects()`
- Fixed `set_post_effects()` not resetting to defaults first
- Added optional `reverse` argument to `sort()`
- Increased analog stick dead zone to 40% to avoid accidental cross-axis input


2019 Dec 1: Update 16
=======================================

- Added support for `"array"` constant types in `.game.json` files
- Added `--secure` option to the quadplay script to prevent other machines from connecting
  to the local webserver
- `draw_text()` markup is now implemented
- `text_width()` now supports markup
- Added `duration` and `period` to spritesheet animation arrays
- Upgraded the `quadplay` script to use a multithreaded server when Python 3.7 or later
  is available
- Fixed a 1-pixel overdraw in `drawSpriteRect()`
- Made `push_front()` and `push()` return a pushed value
- Overloaded `atan(xy)`
- Added `insert()`
- Fixed a parser error on `for` loops that have extra parentheses surrounding the test
- Made documents appear at 80% scale when viewed in the IDE
- Upgraded to Markdeep 1.07 for markdown processing
- Changed the default markdown style sheet to have less vertical spacing and use a sans serif font
- Fixed a bug in `push_mode()` when arguments are provided
- Fixed handling newlines in JSON multiline strings across various OS conventions


2019 Nov 24: Update 15
=======================================

- JSON files may now contain multiline strings using backquote: <code>`...`</code>
- `sprite.json` files now support per-sprite animation frame timing
- Updated the ninja sprites with
  animation durations and the `examples/animation` code demonstrating how to use it at runtime
- Made the `quadplay` command line script shut down more gracefully on key press
- Added per-sprite info viewer in the IDE
- Added slow play button for debugging animations and interaction
- Added the specification for `markup` on `draw_text()` (but not the implementation)
- Improved the shape and line spacing for the `roman-8` font
- Added `replace()` for strings
- Added optional last, pair, and empty separators for `join()`
- Added [Text](../console/quadplay.html?game=quad://examples/text&IDE=1) example


2019 Nov 17: Update 14
=======================================

- Added `fool-9.font.json`
- Added `make_random()`
- Added `random_integer(lo, hi)` and deprecated `random_integer(n)`
- Added `random(lo, hi)` overload
- Added optional `random()` function argument to `randomBall()`, `randomSquare()`, etc.
- Renamed `randomBall()` --> `random_within_sphere()`,
  `randomSquare()` --> `random_within_square()`,
  `randomDisk()` --> `random_within_circle()`,
  `randomSphere()` --> `random_on_sphere()`
- Added `random_gaussian()`, `random_gaussian2D()`, `random_gaussian3D()`,
  `random_truncated_gaussian()`, `random_truncated_gaussian2D()`, random_truncated_gaussian3D()`,
  `random_on_cube()`, `random_within_cube()`, `random_intege(rlo, hi, random)`, `random_sign()`, `random_on_square()`

2019 Oct 4: Update 13
=======================================

- Fixed RPG demo broken sprite paths
- Fixed Boids demo broken sprite paths

2019 Oct 1: Update 12
=======================================

- Added optional `region` to Sprite JSON files
- Increased video RAM by 1 MB, for a total of 10.5 MB
- Increased error checking for Sprite JSON files to detect typos
- Increased robustness to load-time errors
- Added `SIGN()` intrinsic
- Made `sign()` work on vectors
- Caught CORS errors on sprite loading and reported to GUI
- Internal objects now `debug_print()` and `unparse()` as `«type objname»` instead of just `objname`
- Fixed `forceReload=1` breaking map loading
- Implemented pivots for sprites and entities (currently not exposed in the API)


2019 August 30: Update 11
=======================================

- Added `ordinal` and `ordinalabbrev` to `format_number()`
- Fixed implementation errors with `Runtime` naming clash on Firefox
- Faster reload (no longer force reloading of `quad://` assets when locally hosting)
- Documented `quadplay.html` arguments
- Restored `get_transform()` to the API
- Fixed `"oscillate"` extrapolate mode crash for `array_value()`


2019 August 25: Update 10
=======================================

- Added support for `docs` in the `game.json` file using Markdeep, Markdown,
  HTML, and text format. Good for game design docs, TODO lists, and game manuals
- Added support for Ctrl+G as an alternative GIF recording keystroke
- Added `MIN()` and `MAX()` intrinsics
- Fixed `opacity == 0` on `draw_sprite()` to draw nothing instead of full opacity
- Added `randomBall()` and `randomSphere()`
- Changed sprite.json name for a single `xy()` to be a sprite instead of an animation


2019 August 17: Update 9
=======================================

- Added `nanob-3.font.json` (like nano-3, but with thinner L and I characters)
- Patch for emulator view resizing for new dimensions on slower browsers
- Added `device_control()` `"getAnalogAxes"` command
- Renamed `index.html` to `quadplay.html` for improved itch.io compatibility


2019 August 16: Update 8
=======================================

- Allowed `for` and `with` variable lists to be split across multiple lines
- Added `nano-3.font.json`
- Added `space-planet.sprite.json`, `space-atmosphere.sprite.json`, `space-moon.sprite.json`, and `space-ring.sprite.json`
- Made the JSON parser report line numbers instead of character positions for errors
- Added `get_clip()` for returning the current clipping region
- Added `device_control()` support for setting the prompt characters for controllers


2019 August 12: Update 7
=======================================

- Added two-argument version of `round()`
- Added Linux button mapping for the 8bitdo SNES30 controller
- Added the spread operator for variable number of arguments
- Fixed arguments to `enter`
- Added `…¿¡?` to the characters at which `draw_text()` can word wrap
- Increased GIF recording pixel size for 64x64 games
- Fixed compilation of repeated `if`...`then` on a single line
- Added support for Thrustmaster Flight Hotas X
- Added new intrinsics `MAT3x4_MATMUL_XYZW()`, `MAT3x4_MATMUL_XYZ()`, `MAT3x3_MATMUL_XYZ()`
- Added `explosion-realistic-128x128.sprite.json`
- Fixed `quadplay` script not launching the correct game on Windows
- Added overloaded `xy()` and `xyz()` for arrays
- Increased sprite sheet limit from 64 to 128 (no increase in total memory, however)


2019 August 8: Update 6
=======================================

- Added `scoreboard-6.font.json`
- Added `nano-4.font.json`
- Fixed `XY_MUL()` intrinsic
- Fixed `set_transform()` documentation to match current API
- Added three argument version of `loop()`
- Allowed `draw_text()` word-wrapping to search further back for a good break point
- Reduced boot loader font size for smaller screens
- Added `text_size` argument to `draw_text()`
- Added units documentation to `entity` physics properties
- Added space (`␣`) and return (`⏎`) button characters to fonts
- Added alternative keyboard and 8Bitdo Zero controller to `controllers-32x22.png`
- Added `gamepad_array[i].prompt.type`
- Fixed compilation of `if...then...else` on lines with other control flow
- Fixed asset credits leading "by" lacking a trailing space


2019 August 2: Update 5
=======================================

- Required a space for `sin`, `cos`, `tan` automatic parenthesis insertion
- Added Ice Time to the manual
- Added label images for all example programs


2019 August 1: Update 4
=======================================

- Fixed self-overdraw in disk and circle rendering
- `direction()` now returns a non-unit vector if the input is less than 10<sup>-10</sup>
- Added [Fluid simulation](../console/quadplay.html?game=quad://examples/fluid&IDE=1) example program
- Added `octant-17.font.json`
- Added `CLAMP()`, `RGBA_LERP()` and `RGB_LERP()`
- Fixed compilation bug with Greek letter identifiers
- Made underscore-"subscripted" Greek letters legal identifiers. For example: <code>θ_interior</code>, <code>μ_p</code>


2019 July 17: Update 3
=======================================

- Added syntax highlighting in emacs for `bitand`, `bitor`, and `bitxor`
- Documented `log()`, `log2()`, and `log10()`
- Added optional `result` argument for `get_sprite_pixel_color()` to reduce memory allocation
- Made `at`, `because`, `reset_game`, `launch_game`, and `quit_game` into reserved words
- *Incompatible change*: Changed how the note/reason works for `push_mode`, `pop_mode`, `set_mode`, `launch_game`, `quit_game`, and `reset_game`.
  The syntax now uses the `because` keyword after the complete expression instead of including the note as an argument.
- `enter` can now take optional arguments, which are provided by `set_mode()` or `push_mode()`
- Added `deep_clone()`
- 10% performance optimization for adjacent `drawPoint()` calls
- Added the Intrinsics section


2019 July 13: Update 2
=======================================

- Added `loop-dark-thriller.mp3` audio clip
- Fixed `mget` --> `get_map_sprite()` in manual
- Fixed Unicode characters not appearing correctly on the ad blocker warning page
- Added `remove_all()`
- Made IDE mode not automatically full-screen the emulator
- Added specifically-stylized versions of `ⓧ`, `ⓨ`, `Ⓞ`, `⍍`, `▣`,`⧉`, `☰`, `ⓕ` to fonts for use as button prompts for specific controllers
- Fixed `override_color` in `draw_sprite()`
- Added `controllers-32x22.sprite.json`
- Added `prompt` field to `pad` instances/`joy` variable for button prompts
- Fixed missing `tan()` function in implementation
- Fixed screen alignment on resolution change when games are run from the launcher


2019 July 5: Update 1
=======================================

- Vim editor plugin (Stephan)
- Visual Studio Code plugin (Josef)
- Linked API references in the manual to their detailed documentation
- Fixed links in code font to still be colored blue
- Corrected definition of `reversed(string)`


2019 July 4: Public Release
=======================================

- Removed `extend_transform()`, `get_clip()`, and `get_transform()` from the beta release
- Specified metadata for launcher
- Moved programmatic GIF and screenshot recording to `device_control()`.
- Allowed trailing commas and comments in JSON
- Increased size of `deja-9` font button characters
- Changed `pyx` to `pyxl`
- Added graphics frame scaling for slower devices
- Added QR codes for easily launching on mobile devices
- Added `local_time()`
- Added support for inserting padding with `fontpack.html`
- Added named-argument versions of `set_transform()` and `set_clip()`
- Changed the arguments of `set_transform()` to more closely match other graphics commands
- Changed the arguments of `set_clip()` to more closely match `drawRect()`
- Rerendered emulator case
- Improved touch regions for mobile emulator
- Added `games/icetime` complete sample game
- Changed assignment and mutating operators to no longer return a value
- Added `examples/animation`
- Added `array_value()` animation support
- Added mapping for 8bitdo SNES30 controller
- Added animated ninja sprites
- Mapped trigger and shoulder buttons from player 1's modern game controller to
  `gamepad_array[1]` ABCD buttons. It is now possible to create twin-stick games with all
  10 buttons


2019 May 1: Public API Preview
=======================================


2019 March 20: Renamed to Quadplay
=======================================

After NVIDIA announced the Jetson Nano product, the
"nano JAMMER 2" console is renamed to avoid confusion.

I selected name "quadplay" with public and alpha-developer
input.


2018 July 1: Private Alpha
=======================================

Testing begins with an experienced set of retro coder and PICO8
developers.

2018 December 1: Scaling
=======================================

Forked and began scaling nano JAMMER up from a Tweet-jam console to
a full game jam and education fantasy console.

See the original [nano JAMMER](https://morgan3d.github.io/nano/doc/specification.md.html#changelog)
change log for public development on the early parts of this project,
and the [codeheart.js](https://casual-effects.com/codeheart/) project
from which the nano JAMMER codebase originally forked.


<link rel="icon" type="image/png" sizes="64x64" href="../console/favicon-64x64.png">
<link rel="icon" type="image/png" sizes="32x32" href="../console/favicon-32x32.png">
<link rel="shortcut icon" href="../console/favicon.ico">


<script>
markdeepOptions = {tocStyle:'none', definitionStyle:'long', linkAPIDefinitions: true, inlineCodeLang: 'PyxlScript'};</script>
<link rel="stylesheet" href="slate.css">
<style>
@font-face { font-family: quadplay; src: url(../console/Audiowide-Regular.ttf) }
.big {font-size: 150%; font-family: "Lucida Console", Monaco, monospace; line-height: 150%}
em.asterisk { font-style: normal; font-weight: bold; }
.md div.title { font-family: quadplay; font-size: 40px}
.md div.title, .md div.subtitle {text-align: center}
.md h1::before { content: ""}
body {left: 50px; right: 50px}
img { image-rendering: -moz-crisp-edges; image-rendering: pixelated; border: 1px solid #666}
.md .hljs-built_in {font-weight: bold; color: inherit}
.md div.listingcaption {margin: 5px 0 15px}
.md .longTOC a, .md .longTOC code, .md a:link, .md a:visited, .md a:link code, .md a:visited code, a code .hljs-keyword, a code .hljs-selector-tag {
color: #80bfff !important;
}

quadplay::before {
content: "quadplay✜";
font-family: quadplay;
}

.md h1, .md h2, .md h3 { font-family: quadplay }
.md pre.listing.backtick {
  margin-bottom: 0px;
}

</style>
<title>change log✜</title>
<script>setTimeout(function(){document.title='change log✜';},1000);
setTimeout(function(){document.title='change log✜';},5000)</script>
<link rel="shortcut icon" href="../console/favicon.ico">
<link rel="icon" type="image/png" sizes="64x64" href="../console/favicon-64x64.png">
<link rel="icon" type="image/png" sizes="32x32" href="../console/favicon-32x32.png">
<!-- Markdeep: --><script src="markdeep.min.js"></script>
