<meta charset="utf-8"><style class="fallback">@media screen{body{background:#3a3a3a;color:#ccc}}</style>
<link rel="icon" type="image/png" sizes="64x64" href="../console/icons/favicon-64x64.png">
<link rel="icon" type="image/png" sizes="32x32" href="../console/icons/favicon-32x32.png">
<link rel="shortcut icon" href="../console/icons/favicon.ico">

                **Bundled Libraries**
    Built-in Libraries of the [<quadplay/>](manual.md.html)
    Fantasy Console by [Casual Effects](https://casual-effects.com)


These libraries are provided with <quadplay/> but are versioned 
separately. Include these in your game with
_"â‡² Import existing script..."_ in the IDE or by adding
them to the `"scripts"` section of your `.game.json` file
using a `quad://scripts/` URL prefix.

Library code does not count against your program's source
code resource limits.

Note that unlike the standard library API, bundled libraries:

- May change incompatibly in the future
- Have separate authors
- Have individual (non-viral) open source licenses
- Do not have their license automatically added to CREDITS (you must do this yourself)

<div id="summary-placeholder"></div>

<div id="doc-placeholder"></div>

<script src="pyxlscript-doc.js?"></script>
<script>
    const lib_list = [
        'cursor_lib',
        'dice_lib',
        'mat3x3_lib',
        'midi_8x8',
        'particle_lib',
        'platformer_lib',
        'screen_lib'
    ].sort();

    window.markdeepOptions = {mode: 'script', tocStyle:'long', definitionStyle:'long', inlineCodeLang: 'PyxlScript'};

    // Maps filename_base names to Markdeep code
    const mdSource = {};

    // Files to be processed
    let files_left = lib_list.length;

    // Mark a file as completed with downloading and Markeep extraction.
    // When the final file is completed, it launches the Markdeep processor.
    function file_completed() {
        --files_left;

        if (files_left === 0) {
            // Ready to process
            let source = '';
            let summary = 'Library | Summary\n----------|----------\n';

            for (const filename_base of lib_list) {
                const entry = mdSource[filename_base]; 
                
                summary += `[\`${filename_base}\`](#${filename_base}) | ${(entry.summary || ' ').replace(/\n/g, ' ')}\n`;
                source += entry.markdown || '';
            }

            console.log(summary);
            // Insert into the document
            document.getElementById('summary-placeholder').outerHTML = summary;
            document.getElementById('doc-placeholder').outerHTML = source;

            // Run Markdeep
            window.markdeep.formatDocument();
        }
    }

    for (const filename_base of lib_list) {
        const filename = filename_base + '.pyxl';
        const quad_url = 'quad://scripts/' + filename_base;
        const url = '../scripts/' + filename;

        fetch(url).then((response) => {
            if (response.ok) {
                response.text().then((pyxlSource) => {
                    console.assert(pyxlSource);
                    mdSource[filename_base] = pyxlScriptToMarkdeepDoc(filename_base, pyxlSource, quad_url);
                    file_completed();
                });
            } else {
                console.warn('Skipping ' + url + ' because fetch failed with code ' + response.status);
                file_completed();
            }
        });
    }
</script>


<link rel="stylesheet" href="slate.css">
<link rel="stylesheet" href="manual.css">
<!-- Markdeep: --><script src="markdeep.min.js"></script>
